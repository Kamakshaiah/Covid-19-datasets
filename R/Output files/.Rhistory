coronadata <- read.csv(file.choose())
names(coronadata)
coronadescritptives <- summary(coronadata)
coronadescritptives
coronadatafine <- data.frame(
sapply(
coronadata_numeric,
function(x) ifelse(is.na(x),
mean(x, na.rm = TRUE),
x)))
coronadatafine <- data.frame(
sapply(
coronadata,
function(x) ifelse(is.na(x),
mean(x, na.rm = TRUE),
x)))
head(coronadatafine)
sum(is.na(coronadatafine))
coronadatascaled <- scale(coronadatafine)
is.numeric(coronadatafine)
coronadatascaled <- scale(as.numeric(coronadatafine))
type(coronadatafine)
typeof(coronadatafine)
class(coronadatafine)
coronadatascaled <- scale(as.matrix(coronadatafine))
coronadatascaled <- scale(as.numeric(unlist(coronadatafine)))
head(coronadatascaled)
head(coronadatafine)
names(coronadatafine)
coronadatascaled <- scale(coronadatafine[,-1])
names(coronadatafine[,-1])
head(coronadatafine[,-1]))
head(coronadatafine[,-1])
scale(coronadatafine[,-1])
coronadatawithoutrownames <- coronadatafine[, -1]
rownames(coronadatawithoutrownames) <- coronadatafine[, 1]
scale(coronadatawithoutrownames)
scale(as.numeric(coronadatawithoutrownames))
class(coronadatafine)
scale(data.frame(coronadatafine))
scale(data.frame(coronadatafine[, -1]))
scale(as.numeric(coronadatafine[-1, -1]))
scale(as.double(coronadatafine[, -1]))
as.data.frame(scale(coronadatafine[, -1]))
scale(as.data.frame(coronadatafine[, -1]))
scale(as.data.matrix(coronadatafine[, -1]))
scale(data.matrix(coronadatafine[, -1]))
rownames(coronadatascaled) <- coronadatafine[, 1]
#coronadatascaled <- scale(coronadatafine)
coronadatascaled = as.data.frame(scale(data.matrix(coronadatafine[, -1])))
rownames(coronadatascaled) <- coronadatafine[, 1]
head(coronadatascaled)
library(lavaan)
coronamodel <- '
pandemic =~ Active.Cases + Cured.Discharged.Migrated + Deaths
healthcap =~ NumPrimaryHealthCenters_HMIS + NumCommunityHealthCenters_HMIS + NumSubDistrictHospitals_HMIS + NumDistrictHospitals_HMIS + NumPublicBeds_HMIS + NumRuralHospitals_NHP18 + NumRuralBeds_NHP18 + NumUrbanHospitals_NHP18 + NumUrbanBeds_NHP18
# direct
pandemic =~ c*healthcap
# mediator
Received.all.8.basic.vaccinations ~ a*healthcap
pandemic ~ b*Received.all.8.basic.vaccinations
# indirect effect (a*b)
ab := a*b
# total effect
total := c + (a*b)
'
coronafit <- lavaan::sem(coronamodel, data = coronadatascaled)
names(coronadatascaled)
coronamodel <- '
pandemic =~ Active.Cases + Cured.Discharged.Migrated + Deaths
healthcap =~ NumPrimaryHealthCenters_HMIS + NumCommunityHealthCenters_HMIS + NumPublicBeds_HMIS + NumRuralHospitals_NHP18 + NumRuralBeds_NHP18 + NumUrbanHospitals_NHP18 + NumUrbanBeds_NHP18
# direct
pandemic =~ c*healthcap
# mediator
Received.all.8.basic.vaccinations ~ a*healthcap
pandemic ~ b*Received.all.8.basic.vaccinations
# indirect effect (a*b)
ab := a*b
# total effect
total := c + (a*b)
'
coronafit <- lavaan::sem(coronamodel, data = coronadatascaled)
summary(coronafit, fit.measures= TRUE)
#setwd("E:/Research/covid19/")
setwd("D:/Research/here/PAPERS/covid19/data/R/Output files")
coronadescritptives <- summary(coronadatascaled)
write.csv(data.frame(coronadescritptives), "coronadesc.csv")
library(semPlot)
par(mfrow=c(2, 1))
par()
semPaths(coronafit, rotation=4)
semPaths(coronafit, "std", edge.label.cex = 0.5, curvePivot = TRUE, rotation = 4)
# reliability analysis
library(psych)
coronarel <- alpha(coronadatascaled)
coronarel <- alpha(coronadatascaled, check.keys=TRUE)
coronarel
coronarel$scores
coronarel[1]
write.csv(data.frame(coronarel[1]), "alphas.csv")
write.csv(data.frame(coronarel[2]), "alphas_drop.csv")
write.csv(data.frame(coronarel[3]), "rel_item_statistics.csv")
write.csv(coronafit, "coronafit.csv")
names(coronafit)
coronafit
as.data.frame(coronafit)
typeof(coronafit)
data.frame(coronafit)
write.csv(coronafit, "coronafit.csv")
summary(coronafit)
summary(coronafit, fit.measures=TRUE)
coronasummary <- summary(coronafit, fit.measures = TRUE)
write.csv(coronasummary$FIT, "coronafit.csv")
write.csv(coronasummary$PE, "coronafit_estimates.csv")
